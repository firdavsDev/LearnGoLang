# 🧩 3-kun: Struct va Method — “Go’da klasssiz obyekt”

### 1. Struct — yangi tur yaratish

Struct — bir nechta qiymatni bitta obyekt sifatida birlashtiruvchi tuzilma.
Python’dagi `class`dagi `__init__`ga o‘xshash rol bajaradi.

```go
package main

import "fmt"

type User struct {
    Name string
    Age  int
}

func main() {
    u := User{Name: "Tohir", Age: 25}
    fmt.Println(u)
}
```

chiqadi:

```
{Tohir 25}
```

### 2. Struct elementlarini o‘qish / o‘zgartirish

```go
fmt.Println(u.Name) // Tohir
u.Age = 26
fmt.Println(u.Age)
```

---

### 🧠 Python bilan farqi:

Python:

```python
class User:
    def __init__(self, name, age):
        self.name = name
        self.age = age
```

Go:

```go
type User struct {
    Name string
    Age  int
}
```

Farqi shundaki, Go’da **hech qanday class “magiyasi” yo‘q**, faqat struktura va funksiya — xolos.
Ammo bu soddalik sababli Go kodlari **o‘qilishi va ishlashi yengil**.

---

### 3. Method (usul) — Struct bilan bog‘langan funksiya

```go
type User struct {
    Name string
    Age  int
}

// Receiver: (u User) bu methodning kimga tegishli ekanini bildiradi
func (u User) SayHello() {
    fmt.Printf("Salom, men %s, yoshim %d\n", u.Name, u.Age)
}

func main() {
    user := User{Name: "Tohir", Age: 25}
    user.SayHello()
}
```

chiqadi:

```
Salom, men Tohir, yoshim 25
```

---

### 4. Pointer receiver — “Obyektni o‘zgartirish”

Agar siz struct ichidagi qiymatni **o‘zgartirmoqchi** bo‘lsangiz, method pointer orqali chaqiriladi.

```go
func (u *User) Birthday() {
    u.Age++
}
```

```go
func main() {
    user := User{Name: "Tohir", Age: 25}
    user.Birthday()
    fmt.Println(user.Age) // 26
}
```

🧩 Go’da `(u *User)` bilan `(u User)` farqi muhim:

* `(u User)` → faqat nusxasi o‘tadi (immutable)
* `(u *User)` → asl struct o‘tadi (mutable)

---

### 5. Struct ichida struct

Bu “nested data” yaratish uchun juda qulay.

```go
type Address struct {
    City  string
    Street string
}

type User struct {
    Name    string
    Address Address
}

func main() {
    u := User{
        Name: "Tohir",
        Address: Address{
            City: "Toshkent",
            Street: "Navoiy",
        },
    }

    fmt.Println(u.Address.City)
}
```

---

### 🧪 Amaliy mashq:

1. `Car` nomli struct yarating (`Brand`, `Model`, `Speed`).
2. `Drive()` methodi yarating — mashina tezligini 10 ga oshirsin.
3. `Stop()` methodi — tezlikni 0 ga tushirsin.
4. Dasturda ketma-ket 3 marta `Drive()` va `Stop()` chaqirib, natijani ekranga chiqaring.

---

### 🎯 Yakun:

Bugun siz:

* Go’da `struct` bilan obyekt tuzishni,
* `method` va `pointer receiver`’ni,
* va Python’dagi `class`ga alternativ Go falsafasini o‘rgandingiz.

Endi siz “klasssiz obyekt”ni tushundingiz — bu sizga **modul tuzish, model yaratish va keyinchalik ORM (gorm)** bilan ishlashda juda kerak bo‘ladi.

