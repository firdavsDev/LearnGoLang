# ğŸ§© 7-kun: CLI Tool â€” â€œGo File Stats Analyzerâ€

### ğŸ¯ Maqsad:

Kiritilgan fayldagi:

* **satrlar soni**,
* **soâ€˜zlar soni**,
* **belgilar soni**,
* va **eng uzun soâ€˜z**ni topish.

---

### ğŸ“ Loyiha tuzilmasi

```
file_analyzer/
 â”œâ”€â”€ main.go
 â”œâ”€â”€ sample.txt
 â””â”€â”€ go.mod
```

---

### 1. `go.mod` yaratish

```bash
go mod init file_analyzer
```

---

### 2. `sample.txt` misol fayl

```
Salom dunyo
Bu Go dasturi fayldagi soâ€˜zlarni sanaydi
Go juda tez ishlaydi
```

---

### 3. `main.go` â€” asosiy kod

```go
package main

import (
    "bufio"
    "fmt"
    "os"
    "strings"
)

func main() {
    // Foydalanuvchi fayl nomini kiritadi
    if len(os.Args) < 2 {
        fmt.Println("Iltimos, fayl nomini argument sifatida kiriting.")
        fmt.Println("Masalan: go run main.go sample.txt")
        return
    }

    filename := os.Args[1]
    file, err := os.Open(filename)
    if err != nil {
        fmt.Println("Faylni ochib boâ€˜lmadi:", err)
        return
    }
    defer file.Close()

    // Statistika uchun oâ€˜zgaruvchilar
    lines := 0
    words := 0
    chars := 0
    longest := ""

    scanner := bufio.NewScanner(file)
    for scanner.Scan() {
        line := scanner.Text()
        lines++
        chars += len(line)
        lineWords := strings.Fields(line)
        words += len(lineWords)
        for _, w := range lineWords {
            if len(w) > len(longest) {
                longest = w
            }
        }
    }

    if err := scanner.Err(); err != nil {
        fmt.Println("Faylni oâ€˜qishda xato:", err)
        return
    }

    fmt.Println("ğŸ“Š Fayl statistikasi:")
    fmt.Printf("Satrlar soni: %d\n", lines)
    fmt.Printf("Soâ€˜zlar soni: %d\n", words)
    fmt.Printf("Belgilar soni: %d\n", chars)
    fmt.Printf("Eng uzun soâ€˜z: %s\n", longest)
}
```

---

### ğŸ’¡ Natija:

Terminalda bajarish:

```bash
go run main.go sample.txt
```

Natija:

```
ğŸ“Š Fayl statistikasi:
Satrlar soni: 3
Soâ€˜zlar soni: 13
Belgilar soni: 79
Eng uzun soâ€˜z: dasturi
```

---

### ğŸ§  Qiziqarli Go xususiyatlari:

* `os.Args` â€” bu Pythonâ€™dagi `sys.argv` bilan bir xil, lekin type-safe.
* `defer file.Close()` â€” bu Goâ€™ning â€œclean-upâ€ mexanizmi, Pythonâ€™dagi `with open()`ga oâ€˜xshash.
* `bufio.Scanner` â€” matnni qatorma-qator oâ€˜qiydi (super engil va tez).
* `strings.Fields()` â€” boâ€˜sh joylarga qarab soâ€˜zlarni ajratadi.

---

### ğŸ§ª Qoâ€˜shimcha mashq (isteâ€™dodli dev uchun):

CLI argumentlari orqali foydalanuvchiga variant beruvchi mini-flag tizimi yozing:

Masalan:

```bash
go run main.go sample.txt --longest
go run main.go sample.txt --lines
```

Buning uchun `flag` paketidan foydalanasiz:

```go
import "flag"

var showLongest = flag.Bool("longest", false, "Eng uzun soâ€˜zni koâ€˜rsatish")
flag.Parse()
```

---

### ğŸ¯ Yakun:

Bu loyiha sizning **1-bosqich (Go Fundamentals)** ni amalda mustahkamladi:
Siz endi:

* Goâ€™da fayllarni oâ€˜qish/yozish,
* CLI argumentlar bilan ishlash,
* shartlar va sikllarni toâ€˜gâ€˜ri boshqarish,
* hamda Go falsafasini â€” â€œkamroq sehr, koâ€˜proq nazoratâ€ â€” amalda his qildingiz.

---

Endi biz **2-bosqich (11â€“20 kun)**ga oâ€˜tamiz:

> **Functions, Error Handling, Panic/Recover, Modular Packages**
> Bu bosqichda siz professional kod tuzilmasi va xavfsiz error boshqaruvni oâ€˜rganasiz.
> Yakunda: â€œCLI Log Parserâ€ loyihasini yaratamiz.

