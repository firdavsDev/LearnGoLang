# 🧩 7-kun: CLI Tool — “Go File Stats Analyzer”

### 🎯 Maqsad:

Kiritilgan fayldagi:

* **satrlar soni**,
* **so‘zlar soni**,
* **belgilar soni**,
* va **eng uzun so‘z**ni topish.

---

### 📁 Loyiha tuzilmasi

```
file_analyzer/
 ├── main.go
 ├── sample.txt
 └── go.mod
```

---

### 1. `go.mod` yaratish

```bash
go mod init file_analyzer
```

---

### 2. `sample.txt` misol fayl

```
Salom dunyo
Bu Go dasturi fayldagi so‘zlarni sanaydi
Go juda tez ishlaydi
```

---

### 3. `main.go` — asosiy kod

```go
package main

import (
    "bufio"
    "fmt"
    "os"
    "strings"
)

func main() {
    // Foydalanuvchi fayl nomini kiritadi
    if len(os.Args) < 2 {
        fmt.Println("Iltimos, fayl nomini argument sifatida kiriting.")
        fmt.Println("Masalan: go run main.go sample.txt")
        return
    }

    filename := os.Args[1]
    file, err := os.Open(filename)
    if err != nil {
        fmt.Println("Faylni ochib bo‘lmadi:", err)
        return
    }
    defer file.Close()

    // Statistika uchun o‘zgaruvchilar
    lines := 0
    words := 0
    chars := 0
    longest := ""

    scanner := bufio.NewScanner(file)
    for scanner.Scan() {
        line := scanner.Text()
        lines++
        chars += len(line)
        lineWords := strings.Fields(line)
        words += len(lineWords)
        for _, w := range lineWords {
            if len(w) > len(longest) {
                longest = w
            }
        }
    }

    if err := scanner.Err(); err != nil {
        fmt.Println("Faylni o‘qishda xato:", err)
        return
    }

    fmt.Println("📊 Fayl statistikasi:")
    fmt.Printf("Satrlar soni: %d\n", lines)
    fmt.Printf("So‘zlar soni: %d\n", words)
    fmt.Printf("Belgilar soni: %d\n", chars)
    fmt.Printf("Eng uzun so‘z: %s\n", longest)
}
```

---

### 💡 Natija:

Terminalda bajarish:

```bash
go run main.go sample.txt
```

Natija:

```
📊 Fayl statistikasi:
Satrlar soni: 3
So‘zlar soni: 13
Belgilar soni: 79
Eng uzun so‘z: dasturi
```

---

### 🧠 Qiziqarli Go xususiyatlari:

* `os.Args` — bu Python’dagi `sys.argv` bilan bir xil, lekin type-safe.
* `defer file.Close()` — bu Go’ning “clean-up” mexanizmi, Python’dagi `with open()`ga o‘xshash.
* `bufio.Scanner` — matnni qatorma-qator o‘qiydi (super engil va tez).
* `strings.Fields()` — bo‘sh joylarga qarab so‘zlarni ajratadi.

---

### 🧪 Qo‘shimcha mashq (iste’dodli dev uchun):

CLI argumentlari orqali foydalanuvchiga variant beruvchi mini-flag tizimi yozing:

Masalan:

```bash
go run main.go sample.txt --longest
go run main.go sample.txt --lines
```

Buning uchun `flag` paketidan foydalanasiz:

```go
import "flag"

var showLongest = flag.Bool("longest", false, "Eng uzun so‘zni ko‘rsatish")
flag.Parse()
```

---

### 🎯 Yakun:

Bu loyiha sizning **1-bosqich (Go Fundamentals)** ni amalda mustahkamladi:
Siz endi:

* Go’da fayllarni o‘qish/yozish,
* CLI argumentlar bilan ishlash,
* shartlar va sikllarni to‘g‘ri boshqarish,
* hamda Go falsafasini — “kamroq sehr, ko‘proq nazorat” — amalda his qildingiz.

---

Endi biz **2-bosqich (11–20 kun)**ga o‘tamiz:

> **Functions, Error Handling, Panic/Recover, Modular Packages**
> Bu bosqichda siz professional kod tuzilmasi va xavfsiz error boshqaruvni o‘rganasiz.
> Yakunda: “CLI Log Parser” loyihasini yaratamiz.

